---
layout: post
title: "Project 0: PintOS"
---
## Virtual Machine ~= Hypervisor

### 하이퍼바이저란?

- 가상 머신(VM)을 생성하고 실행하는 프로세스.

- 가상 머신 모니터라고도 함.

- 메모리와 같은 단일 호스트 컴퓨터의 리소스를 가상으로 공유하여, 호스트 컴퓨터가 여러 가상 머신을 지원할 수 있도록 함.

  #### 유형

  - 베어메탈: 호스트의 하드웨어에서 직접 실행
  - 호스팅: 다른 컴퓨터 프로그램처럼 운영 체제에서 소프트웨어 계층으로 실행
    ![image-20210927191909784](https://user-images.githubusercontent.com/49096628/134894881-0617331a-cc4b-4ee5-b400-60bfb4ceba10.png)

#### qemu

- 에뮬레이션이 가능한 Hypervisor
  - 에뮬레이션: 호스트 머신에 존재하지 않는 하드웨어 및 아키텍처를 가상머신에게 제공하는 것 ex) 윈도우 데스크탑 머신에서 동작하는 오락실 게임, x86 머신에서 동작하는 ARM 기반 Android OS

## Common bugs

#### Memory leak

- 컴퓨터 프로그램이 필요하지 않은 메모리를 계속 점유하고 있는 현상.

#### Race condition

- 공유 자원에 대해 여러 개의 프로세스가 동시에 접근을 시도할 때 접근의 타이밍이나 순서 등이 결과값에 영향을 줄 수 있는 상태.
- 동시에 접근할 때 자료의 일관성을 해치는 결과가 나타날 수 있음.

#### Deadlock

- 시스템 자원에 대한 요구가 뒤엉킨 상태.
- 둘 이상의 프로세스가 다른 프로세스가 점유하고 있는 자원을 서로 기다릴 때 무한 대기에 빠지는 상황.

#### Use after free

- 동적할당 된 heap을 free하고 다시 재사용 할 때 취약점이 발생할 수 있음.
- heap 메모리를 좀 더 효율적으로 사용하기 위해 반환된 heap 영역의 크기를 기억해놨다가 같은 크기의 할당 요청이 들어오면 이전 영역을 재사용하게 함.
- 결과적으로 메모리는 효율적으로 사용하지만, 공간을 재사용할 경우 원하지 않는 값을 참조할 수 있음.

